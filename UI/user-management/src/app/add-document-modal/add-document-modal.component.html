<div class="modal-overlay" (click)="onCancel()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <!-- Modal Header -->
    <div class="modal-header">
      <h2 class="modal-title">{{ isEditMode ? 'Edit Document' : 'Add Document' }}</h2>
      <button mat-icon-button class="close-btn" (click)="onCancel()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <!-- Modal Content -->
    <div class="modal-content">
      <form [formGroup]="documentForm" class="document-form">
        <!-- Title Field -->
        <div class="form-row">
          <mat-form-field class="form-field full-width" appearance="outline">
            <mat-label>Title <span class="required-asterisk">*</span></mat-label>
            <input matInput formControlName="title" placeholder="Enter document title">
            <mat-error *ngIf="documentForm.get('title')?.invalid && (documentForm.get('title')?.dirty || documentForm.get('title')?.touched || showValidationErrors)">
              {{ getErrorMessage('title') }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Date Field -->
        <div class="form-row">
          <mat-form-field class="form-field full-width" appearance="outline">
            <mat-label>Date <span class="required-asterisk">*</span></mat-label>
            <input matInput [matDatepicker]="picker" formControlName="date" placeholder="Select date">
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker [touchUi]="false"></mat-datepicker>
            <mat-error *ngIf="documentForm.get('date')?.invalid && (documentForm.get('date')?.dirty || documentForm.get('date')?.touched || showValidationErrors)">
              {{ getErrorMessage('date') }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Description Field -->
        <div class="form-row">
          <mat-form-field class="form-field full-width" appearance="outline">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description" rows="4" placeholder="Enter document description"></textarea>
            <mat-error *ngIf="documentForm.get('description')?.invalid && (documentForm.get('description')?.dirty || documentForm.get('description')?.touched || showValidationErrors)">
              {{ getErrorMessage('description') }}
            </mat-error>
          </mat-form-field>
        </div>
      </form>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
      <div class="footer-right">
        <button mat-button class="cancel-btn" (click)="onCancel()">Cancel</button>
        <button mat-raised-button class="save-btn" (click)="onSave()">
          {{ isEditMode ? 'Update' : 'Save' }}
        </button>
      </div>
    </div>
  </div>
</div>